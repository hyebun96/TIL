# OAuth 인증 방식

### OAuth

---

- 사용자 인증이란 하나의 세션 동안 사용자의 신원을 확인하여 인증하는 것을 말합니다.
- 서비스 마다 제 각각인 인증 방식을 표준화한 인증방식

### OAuth 사용하는 서비스

---

- 페이스북으로 회원가입 하기
- 구글 계정으로 회원가입 하기

자신의 어플리케이션에서 사용자 인증을 하기 위해 다른 어플리케이션의 사용자 인증 방식을 인가하도록 하는 것                                                                                                                   즉, OAuth는 사용자 인증 프로토콜이 아닌, 인가 프로토콜

### OAuth 구성요소

---

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/217af2cd-a7f5-482b-8ba9-3212c7c50e5a/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/217af2cd-a7f5-482b-8ba9-3212c7c50e5a/Untitled.png)

- Client : Resource를 직접 사용하는 사용자
- Resource Owner : OAuth를 사용하는 소유자 (왓챠, 청와대 청원)
- Authorization Server : OAuth 인증 서버
- Resource Server : Rest API Server, 사용자 인증이 잘 되어있는 애플리케이션(페이스북, 구글)

### OAuth 진행과정

---

위 그림을 보고 흐름을 참고할 것

1. 왓챠에 접속
2. "페이스북 으로 회원가입" 버튼 클릭
3. 페이스북 로그인 창으로 이동**(A)**
4. 페이스북 로그인 성공**(B)**
5. "해당 사이트의 접근을 허용하시겠습니까?" 창 생성
6. "허용" 선택시**(C)**,  왓챠에서 로그인 목적으로 사용할 수있는 토큰(token)을 페이스북이 발급**(D)**
7. 발급받은 토큰을 이용하여 만료기간 까지 서비스 이용**(E, F)**

**(D)** 과정에서 페이스북으로부터 토큰을 받았다는 것은 왓챠에서 로그인을 할때, 페이스북이 되신 해준다는 의미입니다. 

즉, 토큰을 발급해줌으로써 로그인할 수있는 권한을 부여한 것입니다.

### 요약

1. 사용자 인증 방식이 잘 구현된 회사(서비스)에 인증을 인가
2. 인증 절차 수행
3. 인증이 되었다는 토큰을 받아 나의 어플리케이션에 여러 권한들을 부여

### OAuth를 사용하면 좋은점

---

구글 또는 페이스북 같이 많은 사람들이 이용하는 웹 서비스의 계정을 나의 어플리케이션에서 사용할 수있다는 점